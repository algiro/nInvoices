# Production Environment Configuration
# Copy this file to .env and configure for your production environment

# ═══════════════════════════════════════════════════════════════════
# Docker Registry Configuration
# ═══════════════════════════════════════════════════════════════════
DOCKER_USERNAME=algiro
IMAGE_TAG=latest

# ═══════════════════════════════════════════════════════════════════
# PostgreSQL Database Configuration
# ═══════════════════════════════════════════════════════════════════
POSTGRES_USER=ninvoices_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=ninvoices_db

# ⚠️ PASSWORD RULES:
# - Use only alphanumeric characters and basic symbols (-, _)
# - DO NOT use special characters: ! @ # $ % & * 
# - Reason: Special chars break JDBC connection strings in Keycloak

# ═══════════════════════════════════════════════════════════════════
# Keycloak Authentication Configuration
# ═══════════════════════════════════════════════════════════════════
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_THIS_PASSWORD
KEYCLOAK_REALM=ninvoices
KEYCLOAK_CLIENT_ID=ninvoices-api

# Keycloak hostname configuration
KC_HOSTNAME_STRICT=false
DOMAIN=localhost

# ═══════════════════════════════════════════════════════════════════
# Application Ports
# ═══════════════════════════════════════════════════════════════════
WEB_PORT=3000
API_PORT=8080
KEYCLOAK_PORT=8080

# ═══════════════════════════════════════════════════════════════════
# Application Configuration
# ═══════════════════════════════════════════════════════════════════
ASPNETCORE_ENVIRONMENT=Production

# ═══════════════════════════════════════════════════════════════════
# Production Settings (when using domain and HTTPS)
# ═══════════════════════════════════════════════════════════════════
# Uncomment and configure these for production with custom domain:
#
# DOMAIN=yourdomain.com
# KC_HOSTNAME_STRICT=true
# WEB_PORT=80  # or 443 if behind reverse proxy
# API_PORT=8080
# KEYCLOAK_PORT=8080

# ═══════════════════════════════════════════════════════════════════
# Notes
# ═══════════════════════════════════════════════════════════════════
#
# 1. This .env file must be in the same directory as docker-compose.yml
#
# 2. For production deployment:
#    - Change ALL passwords to strong, unique values
#    - Set DOMAIN to your actual domain name
#    - Configure SSL certificates if using HTTPS
#    - Consider using secrets management (Azure Key Vault, AWS Secrets Manager)
#
# 3. Database initialization:
#    - First-time setup will create databases automatically
#    - Schema will be created by init scripts
#
# 4. Keycloak setup:
#    - Admin user created automatically on first start
#    - Import realm or configure manually
#    - Create application users
#
# 5. For detailed configuration guide, see:
#    - docker/ENV-FILE-FAQ.md
#    - docker/PRODUCTION-DEPLOYMENT.md
